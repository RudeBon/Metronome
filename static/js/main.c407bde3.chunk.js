(this.webpackJsonpmetronome=this.webpackJsonpmetronome||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/boop.adb635a2.mp3"},24:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/stressedBoop.4cab99db.mp3"},25:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(10),i=c.n(r),l=(c(21),c(11)),u=c(12),o=c(15),b=c(14),j=(c(22),c(2)),f=function(e){var t=e.beats,c=e.activeId,a=e.isStressed;return Object(n.jsx)("div",{className:"beatsBlock",children:Object(n.jsx)("ul",{className:"beats_ul",children:t.map((function(e){var t=["beat"];return e===c&&t.push("activeBeat"),0===e&&a&&t.push("stressedBeat"),Object(n.jsx)("li",{className:t.join(" "),children:Object(n.jsx)("div",{})},e)}))})})},d=function(e){var t=e.updateIntervalsValue,c=Object(a.useState)(80),s=Object(j.a)(c,2),r=s[0],i=s[1],l=260,u=Object(a.useRef)(null);Object(a.useEffect)((function(){console.log("bpm value has changed",r),u.current.value=r.toString(),t(6e4/(r-1))}),[r]);var o=function(e,t){switch(t){case"increase10":if(r>=250)return void i(l);i((function(e){return e+10}));break;case"decrease10":if(r<=30)return void i(20);i((function(e){return e-10}));break;case"increase":if(r===l)return;i((function(e){return e+1}));break;case"decrease":if(20===r)return;i((function(e){return e-1}))}};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h3",{children:[r," BPM"]}),Object(n.jsxs)("div",{className:"controllersContainer",children:[Object(n.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(0,"decrease10")},children:"-10"}),Object(n.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(0,"decrease")},children:Object(n.jsx)("i",{className:"material-icons",children:"remove"})}),Object(n.jsx)("p",{className:"range-field",children:Object(n.jsx)("input",{type:"range",min:20,max:l,ref:u,onChange:function(e){i(+e.currentTarget.value)}})}),Object(n.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(0,"increase")},children:Object(n.jsx)("i",{className:"material-icons",children:"add"})}),Object(n.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(0,"increase10")},children:"+10"})]})]})},h=function(e){var t=e.updateBeats,c=e.beats,s=Object(a.useState)(c.length),r=Object(j.a)(s,2),i=r[0],l=r[1],u=function(e,n){switch(console.log("controllers click",n),n){case"increase":if(12===i)return;var a=c.concat(c.length);t(a),l((function(e){return e+1}));break;case"decrease":if(2===i)return;var s=c.slice(0,c.length-1);t(s),l((function(e){return e-1}))}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"controllersContainer",children:[Object(n.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return u(0,"decrease")},children:Object(n.jsx)("i",{className:"material-icons",children:"remove"})}),Object(n.jsx)("h5",{children:i}),Object(n.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return u(0,"increase")},children:Object(n.jsx)("i",{className:"material-icons",children:"add"})})]})})},v=c(13),O=c(9),m=function(e){var t=e.updateIntervalsValue,c=Object(a.useState)([]),s=Object(j.a)(c,2),r=s[0],i=s[1],l=Object(a.useState)([]),u=Object(j.a)(l,2),o=u[0],b=u[1];Object(a.useEffect)((function(){d(r)}),[r]),Object(a.useEffect)((function(){var e=f(o);e&&t(e)}),[o]);var f=function(e){var t=e.reduce((function(e,t,c){return{acc:e.acc+t*(c+1),coeffSum:e.coeffSum+c+1}}),{acc:0,coeffSum:0});return t.acc/t.coeffSum},d=function(e){var t=[];e.forEach((function(e,c,n){if(0!==c){var a=e-n[c-1];a<230||a>3160?(t.splice(0,t.length),i([])):h(t,5,a)}})),b([].concat(t))},h=function(e,t,c){e.length<t?e.push(c):e.splice(0,1,c)};return Object(n.jsx)("button",{onClick:function(){var e=Date.now();if(r.length<6)i([].concat(Object(O.a)(r),[e]));else{var t=Object(v.a)(r).slice(1);i([].concat(Object(O.a)(t),[e]))}},className:"waves-effect waves-light btn-large m5 blue-grey lighten-3",children:"Tap Tempo"})},g=c(23),x=c(24),p=function(){var e=Object(a.useState)([0,1,2,3]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(null),i=Object(j.a)(r,2),l=i[0],u=i[1],o=Object(a.useState)(!1),b=Object(j.a)(o,2),v=b[0],O=b[1],p=Object(a.useState)(0),w=Object(j.a)(p,2),S=w[0],N=w[1],k=Object(a.useState)(0),y=Object(j.a)(k,2),C=y[0],I=y[1],B=Object(a.useState)(!1),E=Object(j.a)(B,2),V=E[0],A=E[1],F=new Audio(g.default),T=new Audio(x.default),J=function(){var e=null;u((function(t){return e=t>=c.length-1||null===t?0:t+1})),function(e){V&&0===e?T.play():F.play()}(e)};Object(a.useEffect)((function(){return v&&0!==C?(clearInterval(C),I(window.setInterval(J,S))):v&&0===C?I(window.setInterval(J,S)):v||(clearInterval(C),I(0)),function(){return clearInterval(C)}}),[v,V,l,S]);var M=function(e){N(e)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"\u2728 Hello fellow musician \u2728"}),Object(n.jsx)("button",{onClick:function(e){O((function(e){return!e})),v&&u(null)},className:v?"waves-effect waves-light btn-large m5 blue-grey lighten-3":"waves-effect waves-light btn-large m5 teal accent-4",children:v?"Stop":"Start"}),Object(n.jsx)(m,{updateIntervalsValue:M}),Object(n.jsx)(d,{updateIntervalsValue:M}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("input",{type:"checkbox",checked:V,onChange:function(){A((function(e){return!e}))}}),Object(n.jsx)("span",{children:"Stress 1st beat"})]}),Object(n.jsx)(h,{updateBeats:function(e){s(e)},beats:c})]}),Object(n.jsx)(f,{beats:c,activeId:l,isStressed:V})]})},w=function(e){Object(o.a)(c,e);var t=Object(b.a)(c);function c(){return Object(l.a)(this,c),t.apply(this,arguments)}return Object(u.a)(c,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(p,{})})}}]),c}(s.a.Component);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.c407bde3.chunk.js.map