(this.webpackJsonpmetronome=this.webpackJsonpmetronome||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},23:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/boop.adb635a2.mp3"},24:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/stressedBoop.4cab99db.mp3"},25:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(10),s=c.n(r),i=(c(20),c(11)),l=c(12),u=c(15),o=c(14),b=(c(21),c(2)),j=c(0),f=function(e){var t=e.beats,c=e.activeId,n=e.isStressed;return Object(j.jsx)("div",{className:"beatsBlock",children:Object(j.jsx)("ul",{className:"beats_ul",children:t.map((function(e){var t=["beat"];return e===c&&t.push("activeBeat"),0===e&&n&&t.push("stressedBeat"),Object(j.jsx)("li",{className:t.join(" "),children:Object(j.jsx)("div",{})},e)}))})})},d=function(e){var t=e.updateIntervalsValue,c=e.intervalValue,a=Object(n.useState)(null),r=Object(b.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)(null),u=Object(b.a)(l,2),o=u[0],f=(u[1],260),d=Object(n.useRef)(null);Object(n.useEffect)((function(){if(null===o||c!=o){var e=6e4/c+1;d.current.value=e.toString(),i(e)}}),[c]),Object(n.useEffect)((function(){null!=s&&(d.current.value=s.toString(),t(6e4/(s-1)))}),[s]);var v=function(e,t){switch(t){case"increase10":if(s>=250)return void i(f);i((function(e){return e+10}));break;case"decrease10":if(s<=30)return void i(20);i((function(e){return e-10}));break;case"increase":if(s===f)return;i((function(e){return e+1}));break;case"decrease":if(20===s)return;i((function(e){return e-1}))}};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{children:[Math.round(s)," BPM"]}),Object(j.jsxs)("div",{className:"controllersContainer",children:[Object(j.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return v(0,"decrease10")},children:"-10"}),Object(j.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return v(0,"decrease")},children:Object(j.jsx)("i",{className:"material-icons",children:"remove"})}),Object(j.jsx)("p",{className:"range-field",children:Object(j.jsx)("input",{type:"range",min:20,max:f,ref:d,onChange:function(e){i(+e.currentTarget.value)}})}),Object(j.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return v(0,"increase")},children:Object(j.jsx)("i",{className:"material-icons",children:"add"})}),Object(j.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return v(0,"increase10")},children:"+10"})]})]})},v=function(e){var t=e.updateBeats,c=e.beats,a=Object(n.useState)(c.length),r=Object(b.a)(a,2),s=r[0],i=r[1],l=function(e,n){switch(console.log("controllers click",n),n){case"increase":if(12===s)return;var a=c.concat(c.length);t(a),i((function(e){return e+1}));break;case"decrease":if(2===s)return;var r=c.slice(0,c.length-1);t(r),i((function(e){return e-1}))}};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"controllersContainer",children:[Object(j.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return l(0,"decrease")},children:Object(j.jsx)("i",{className:"material-icons",children:"remove"})}),Object(j.jsx)("h5",{className:"m5",children:s}),Object(j.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return l(0,"increase")},children:Object(j.jsx)("i",{className:"material-icons",children:"add"})})]})})},O=c(13),h=c(9),m=function(e){var t=e.updateIntervalsValue,c=Object(n.useState)([]),a=Object(b.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)([]),l=Object(b.a)(i,2),u=l[0],o=l[1];Object(n.useEffect)((function(){d(r)}),[r]),Object(n.useEffect)((function(){var e=f(u);e&&t(e)}),[u]);var f=function(e){var t=e.reduce((function(e,t,c){return{acc:e.acc+t*(c+1),coeffSum:e.coeffSum+c+1}}),{acc:0,coeffSum:0});return t.acc/t.coeffSum},d=function(e){var t=[];e.forEach((function(e,c,n){if(0!==c){var a=e-n[c-1];a<230||a>3160?(t.splice(0,t.length),s([])):v(t,5,a)}})),o([].concat(t))},v=function(e,t,c){e.length<t?e.push(c):e.splice(0,1,c)};return Object(j.jsx)("button",{onClick:function(){var e=Date.now();if(r.length<6)s([].concat(Object(h.a)(r),[e]));else{var t=Object(O.a)(r).slice(1);s([].concat(Object(h.a)(t),[e]))}},className:"waves-effect waves-light btn-large m5 blue-grey lighten-3",children:"Tap Tempo"})},g=c(23),x=c(24),p=function(){var e=Object(n.useState)([0,1,2,3]),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),s=Object(b.a)(r,2),i=s[0],l=s[1],u=Object(n.useState)(!1),o=Object(b.a)(u,2),O=o[0],h=o[1],p=Object(n.useState)(760),w=Object(b.a)(p,2),S=w[0],N=w[1],k=Object(n.useState)(0),y=Object(b.a)(k,2),C=y[0],I=y[1],B=Object(n.useState)(!1),E=Object(b.a)(B,2),V=E[0],A=E[1],M=new Audio(g.default),T=new Audio(x.default),F=function(){var e=null;l((function(t){return e=t>=c.length-1||null===t?0:t+1})),function(e){V&&0===e?T.play():M.play()}(e)};Object(n.useEffect)((function(){return O&&0!==C?(clearInterval(C),I(window.setInterval(F,S))):O&&0===C?I(window.setInterval(F,S)):O||(clearInterval(C),I(0)),function(){return clearInterval(C)}}),[O,V,i,S]);var J=function(e){N(e)};return Object(j.jsxs)("div",{className:"mobile-grid-container",children:[Object(j.jsx)("h1",{children:"\u2728 Hello fellow musician \u2728"}),Object(j.jsx)("button",{onClick:function(e){h((function(e){return!e})),O&&l(null)},className:O?"waves-effect waves-light btn-large m5 blue-grey lighten-3":"waves-effect waves-light btn-large m5 teal accent-4",children:O?"Stop":"Start"}),Object(j.jsx)(m,{updateIntervalsValue:J}),Object(j.jsx)(d,{updateIntervalsValue:J,intervalValue:S}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"checkbox",checked:V,onChange:function(){A((function(e){return!e}))}}),Object(j.jsx)("span",{children:"Stress 1st beat"})]}),Object(j.jsx)(v,{updateBeats:function(e){a(e)},beats:c})]}),Object(j.jsx)(f,{beats:c,activeId:i,isStressed:V})]})},w=function(e){Object(u.a)(c,e);var t=Object(o.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(p,{})})}}]),c}(a.a.Component);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.296d3db7.chunk.js.map