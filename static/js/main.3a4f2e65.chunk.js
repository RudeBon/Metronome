(this.webpackJsonpmetronome=this.webpackJsonpmetronome||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/boop.adb635a2.mp3"},24:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/stressedBoop.4cab99db.mp3"},25:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(10),l=n.n(r),s=(n(20),n(11)),i=n(12),u=n(15),o=n(14),f=(n(21),n(2)),b=n(0),j=function(e){var t=e.beats,n=e.activeId,c=e.isStressed;return Object(b.jsx)("div",{className:"beatsBlock",children:Object(b.jsx)("ul",{className:"beats_ul",children:t.map((function(e){var t=["beat"];return e===n&&t.push("activeBeat"),0===e&&c&&t.push("stressedBeat"),Object(b.jsx)("li",{className:t.join(" "),children:Object(b.jsx)("div",{})},e)}))})})},d=function(e){var t=e.updateIntervalsValue,n=e.intervalValue,a=Object(c.useState)(null),r=Object(f.a)(a,2),l=r[0],s=r[1],i=Object(c.useRef)(null);Object(c.useEffect)((function(){if(null!=n){var e=6e4/n+1;i.current.value=e.toString(),s(e)}}),[n]),Object(c.useEffect)((function(){null!=l&&(i.current.value=l.toString(),t(6e4/(l-1)))}),[l]);var u=function(e){s(l-e<20?20:function(t){return t-e})},o=function(e){s(l+e>260?260:function(t){return t+e})};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h3",{children:[Math.round(l)," BPM"]}),Object(b.jsxs)("div",{className:"controllersContainer",children:[Object(b.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return u(10)},children:"-10"}),Object(b.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return u(1)},children:Object(b.jsx)("i",{className:"material-icons",children:"remove"})}),Object(b.jsx)("p",{className:"range-field",children:Object(b.jsx)("input",{type:"range",min:20,max:260,ref:i,onChange:function(e){s(+e.currentTarget.value)}})}),Object(b.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(1)},children:Object(b.jsx)("i",{className:"material-icons",children:"add"})}),Object(b.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(10)},children:"+10"})]})]})},v=function(e){var t=e.updateBeats,n=e.beats,a=Object(c.useState)(n.length),r=Object(f.a)(a,2),l=r[0],s=r[1];Object(c.useEffect)((function(){s(n.length)}),[n]);var i=function(){return 12===l?n:n.concat(n.length)},u=function(){return 2===l?n:n.slice(0,n.length-1)},o=function(e){var c=e();t(c),s(n.length)};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"controllersContainer",children:[Object(b.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(u)},children:Object(b.jsx)("i",{className:"material-icons",children:"remove"})}),Object(b.jsx)("h5",{className:"m5",children:l}),Object(b.jsx)("div",{className:"waves-effect waves-light btn-small blue-grey lighten-4",onClick:function(e){return o(i)},children:Object(b.jsx)("i",{className:"material-icons",children:"add"})})]})})},O=n(13),h=n(9),m=function(e){var t=e.updateIntervalsValue,n=Object(c.useState)([]),a=Object(f.a)(n,2),r=a[0],l=a[1],s=Object(c.useState)([]),i=Object(f.a)(s,2),u=i[0],o=i[1];Object(c.useEffect)((function(){d(r)}),[r]),Object(c.useEffect)((function(){var e=j(u);e&&t(e)}),[u]);var j=function(e){var t=e.reduce((function(e,t,n){return{acc:e.acc+t*(n+1),coeffSum:e.coeffSum+n+1}}),{acc:0,coeffSum:0});return t.acc/t.coeffSum},d=function(e){var t=[];e.forEach((function(e,n,c){if(0!==n){var a=e-c[n-1];a<230||a>3160?(t.splice(0,t.length),l([])):v(t,5,a)}})),o([].concat(t))},v=function(e,t,n){e.length<t?e.push(n):e.splice(0,1,n)};return Object(b.jsx)("button",{onClick:function(){var e=Date.now();if(r.length<6)l([].concat(Object(h.a)(r),[e]));else{var t=Object(O.a)(r).slice(1);l([].concat(Object(h.a)(t),[e]))}},className:"waves-effect waves-light btn-large m5 blue-grey lighten-3",children:"Tap Tempo"})},g=n(23),p=n(24),x=function(){var e=Object(c.useState)((function(){return function(){var e=localStorage.getItem("beats");return null!=e?JSON.parse(e):[0,1,2,3]}()})),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),l=Object(f.a)(r,2),s=l[0],i=l[1],u=Object(c.useState)(!1),o=Object(f.a)(u,2),O=o[0],h=o[1],x=Object(c.useState)((function(){return function(){var e=localStorage.getItem("interval");return null!=e?+e:760}()})),S=Object(f.a)(x,2),w=S[0],y=S[1],N=Object(c.useState)(0),k=Object(f.a)(N,2),I=k[0],C=k[1],E=Object(c.useState)(!1),B=Object(f.a)(E,2),A=B[0],J=B[1],V=new Audio(g.default),M=new Audio(p.default);Object(c.useEffect)((function(){window.addEventListener("keypress",(function(e){" "===e.key||"Enter"===e.key?(h((function(e){return!e})),O&&i(null)):"ArrowUp"===e.key||"w"===e.key?null!=w&&(y((function(e){return e+1})),localStorage.setItem("interval",w.toString())):"ArrowDown"===e.key||"s"===e.key?null!=w&&(y((function(e){return e-1})),localStorage.setItem("interval",w.toString())):"ArrowLeft"===e.key||"a"===e.key?(a((function(e){return e.slice(0,e.length-1)})),localStorage.setItem("beats",JSON.stringify(n))):"ArrowRight"!==e.key&&"d"!==e.key||(a((function(e){return e.concat(e.length)})),localStorage.setItem("beats",JSON.stringify(n)))}))}),[]);var T=function(){var e=null;i((function(t){return e=t>=n.length-1||null===t?0:t+1})),function(e){A&&0===e?M.play():V.play()}(e)};Object(c.useEffect)((function(){return O&&0!==I?(clearInterval(I),C(window.setInterval(T,w))):O&&0===I?C(window.setInterval(T,w)):O||(clearInterval(I),C(0)),function(){return clearInterval(I)}}),[O,A,s,w]);var D=function(e){y(e),localStorage.setItem("interval",e.toString())};return Object(b.jsxs)("div",{className:"mobile-grid-container",children:[Object(b.jsx)("h1",{children:"\u2728 Hello fellow musician \u2728"}),Object(b.jsx)("button",{onClick:function(e){h((function(e){return!e})),O&&i(null)},className:O?"waves-effect waves-light btn-large m5 blue-grey lighten-3":"waves-effect waves-light btn-large m5 teal accent-4",children:O?"Stop":"Start"}),Object(b.jsx)(m,{updateIntervalsValue:D}),Object(b.jsx)(d,{updateIntervalsValue:D,intervalValue:w}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:A,onChange:function(){J((function(e){return!e}))}}),Object(b.jsx)("span",{children:"Stress 1st beat"})]}),Object(b.jsx)(v,{updateBeats:function(e){a(e),localStorage.setItem("beats",JSON.stringify(e))},beats:n})]}),Object(b.jsx)(j,{beats:n,activeId:s,isStressed:A})]})},S=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(x,{})})}}]),n}(a.a.Component);l.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.3a4f2e65.chunk.js.map